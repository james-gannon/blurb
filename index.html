<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blurb Inbox</title>
  <style>
    :root {
      --bg-color: #f9fafb;
      --text-color: #111827;
      --card-bg: #ffffff;
    }
    [data-theme="dark"] {
      --bg-color: #111827;
      --text-color: #f9fafb;
      --card-bg: #1f2937;
    }
    [data-theme="random"] {
      --bg-color: #ffe4e1;
      --text-color: #333333;
      --card-bg: #fffacd;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: all 0.3s ease-in-out;
    }
    .container {
      max-width: 600px;
      margin: 60px auto;
      padding: 20px;
    }
    .header {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .theme-switcher {
      text-align: center;
      margin-bottom: 20px;
    }
    .theme-switcher button {
      margin: 0 5px;
      padding: 6px 12px;
      font-size: 0.9rem;
      cursor: pointer;
      border: none;
      border-radius: 6px;
    }
    .blurb {
      background-color: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
      padding: 20px;
      margin-bottom: 20px;
      transition: box-shadow 0.2s ease-in-out;
    }
    .blurb:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .date {
      font-size: 0.875rem;
      color: #6b7280;
      margin-bottom: 0.5rem;
    }
    .summary {
      font-size: 1rem;
      line-height: 1.5;
    }
    .audio {
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .speed-button {
      padding: 4px 8px;
      background-color: #e5e7eb;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body data-theme="light">
  <div class="container">
    <div class="header">Your Blurb Inbox</div>
    <div class="theme-switcher">
      <button onclick="setTheme('light')">Light</button>
      <button onclick="setTheme('dark')">Dark</button>
      <button onclick="setTheme('random')">Random</button>
    </div>
    <div id="blurbContainer"></div>
  </div>

  <script>
    const blurbs = [
      {
        date: "April 10, 2025",
        summary: "\"Spoke with seller regarding the 3-bed in Warwick. Theyâ€™re motivated but want a 2-week close. Needs interior updates. Willing to negotiate on price.\"",
        audio: "/Users/root1/Documents/misc/Jagoe_Based.wav"
      },
      {
        date: "April 7, 2025",
        summary: "\"Inbound call from New Bedford. Referred by cousin. Strong equity position, open to novation option. Needs follow-up Monday.\""
      }
    ];

    function renderBlurbs() {
      const container = document.getElementById('blurbContainer');
      container.innerHTML = '';
      blurbs.forEach((blurb, index) => {
        const div = document.createElement('div');
        div.className = 'blurb';

        const date = `<div class='date'>${blurb.date}</div>`;
        const summary = `<div class='summary'>${blurb.summary}</div>`;

        let audioHTML = '';
        if (blurb.audio) {
          audioHTML = `
            <div class='audio'>
              <audio id='audio${index}' controls src='${blurb.audio}'></audio>
              <button class='speed-button' onclick='changeSpeed(${index})' id='speed${index}'>1x</button>
            </div>`;
        }

        div.innerHTML = `${date}${summary}${audioHTML}`;
        container.appendChild(div);
      });
    }

    const speeds = [0.5, 0.75, 1.0, 1.25, 1.5, 1.75, 2.0];
    function changeSpeed(index) {
      const audio = document.getElementById(`audio${index}`);
      const btn = document.getElementById(`speed${index}`);
      let current = speeds.indexOf(parseFloat(audio.playbackRate));
      const next = (current + 1) % speeds.length;
      audio.playbackRate = speeds[next];
      btn.textContent = speeds[next] + 'x';
    }

    function setTheme(theme) {
      document.body.setAttribute('data-theme', theme);
    }

    renderBlurbs();
  </script>
</body>
</html>
